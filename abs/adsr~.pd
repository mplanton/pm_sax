#N canvas 628 381 996 699 12;
#X obj 92 44 inlet;
#X obj 435 171 inlet;
#X text 88 19 trigger;
#X obj 105 159 sel 0;
#X obj 244 175 t b;
#X obj 531 166 inlet;
#X obj 458 449 line~;
#X obj 651 172 inlet;
#X obj 815 178 inlet;
#X obj 888 177 inlet;
#X msg 105 190 stop;
#X text 435 149 level;
#X obj 458 474 outlet~;
#X text 102 398 and pack with;
#X text 103 418 attack time;
#X text 31 146 if zero;
#X text 32 163 release;
#X text 12 180 and cancel;
#X text 43 197 decay;
#X text 284 292 on attack \, set a;
#X text 278 325 recall sustain value;
#X text 315 398 pack with decay time;
#X text 613 371 on release ramp;
#X text 614 388 back to zero;
#X obj 470 368 * 0.01;
#X text 47 587 Objects such as "f" and "pack" can be given dollar sign
arguments to initialize their contents from adsr's creation arguments.
Inlets are supplied to change them on the fly.;
#X text 13 2 ADSR ENVELOPE;
#X text 527 144 attack;
#X text 652 149 decay;
#X text 808 156 sustain;
#X text 885 156 release;
#X text 202 91 attack;
#X obj 204 112 moses;
#X obj 194 142 t b b;
#X msg 128 310 0;
#X text 20 293 optionally;
#X text 10 311 bash to zero;
#X text 25 266 ATTACK:;
#X text 49 497 When you send this patch a positive trigger it schedules
a line~ to do an attack and decay \, and if zero \, it starts the release
ramp.;
#X text 495 649 Updated for Pd version 0.37;
#X text 255 109 test for negative trigger;
#X text 253 133 if so \, zero;
#X text 254 149 the output;
#X text 278 185 in any case;
#X text 303 375 multiply by peak level;
#X text 280 306 delay for sustain;
#X text 276 348 convert from percent;
#X text 155 360 ... then;
#X text 103 379 recall peak level;
#X text 439 133 peak;
#X text 281 169 ... do this;
#X text 47 549 Negative triggers cause the output to jump to zero and
then attack (instead of attacking from the current location).;
#X text 203 39 Arguments: level \, attack time \, decay time \, sustain
level \, release time. A \, D \, and R are in msec and S is in percent.
This patch is used as an abstraction in various examples.;
#X text 495 673 Modified by Manuel Planton 2019;
#X text 154 4 adsr~ <id> <level> <attack> <decay> <sustain> <release>
;
#X obj 166 284 f \$2;
#X obj 509 394 * \$2;
#X obj 166 309 pack 0 \$3;
#X obj 438 301 del \$3;
#X obj 509 418 pack 0 \$4;
#X obj 470 343 f \$5;
#X obj 620 345 pack 0 \$6;
#X obj 434 195 r \$1/level;
#X obj 525 193 r \$1/attack;
#X obj 649 199 r \$1/decay;
#X obj 777 211 r \$1/sustain;
#X obj 890 211 r \$1/release;
#X obj 103 66 r \$1/trigger;
#X obj 579 502 / \$2;
#X obj 579 530 s \$1/monitor;
#X obj 579 476 unsig~ 30;
#X obj 9 107 s \$1/trigger_monitor;
#X connect 0 0 3 0;
#X connect 0 0 71 0;
#X connect 1 0 55 1;
#X connect 1 0 56 1;
#X connect 1 0 68 1;
#X connect 3 0 10 0;
#X connect 3 0 61 0;
#X connect 3 1 32 0;
#X connect 4 0 55 0;
#X connect 4 0 58 0;
#X connect 5 0 57 1;
#X connect 5 0 58 1;
#X connect 6 0 12 0;
#X connect 6 0 70 0;
#X connect 7 0 59 1;
#X connect 8 0 60 1;
#X connect 9 0 61 1;
#X connect 10 0 58 0;
#X connect 24 0 56 0;
#X connect 32 0 33 0;
#X connect 32 1 4 0;
#X connect 33 0 4 0;
#X connect 33 1 34 0;
#X connect 34 0 6 0;
#X connect 55 0 57 0;
#X connect 56 0 59 0;
#X connect 57 0 6 0;
#X connect 58 0 60 0;
#X connect 59 0 6 0;
#X connect 60 0 24 0;
#X connect 61 0 6 0;
#X connect 62 0 55 1;
#X connect 62 0 56 1;
#X connect 63 0 57 1;
#X connect 63 0 58 1;
#X connect 64 0 59 1;
#X connect 65 0 60 1;
#X connect 66 0 61 1;
#X connect 67 0 3 0;
#X connect 67 0 71 0;
#X connect 68 0 69 0;
#X connect 70 0 68 0;
